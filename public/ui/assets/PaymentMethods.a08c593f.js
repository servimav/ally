import{i as P,o as a,j as y,w as L,l as o,n as u,t as M,r as S,O as I,K as f,H as U,B,F as $,p as b,s as h,G as V,C as w,k as C,E,A as T,P as F,Q as O,S as A,T as W,u as z,U as R,V as q,z as D,W as G,X as K}from"./index.ed03c666.js";const Y=["src","alt"],j={key:0},H={key:1},g=P({__name:"PaymentMethod",props:{method:null,label:null},setup(n){return(m,l)=>{const r=S("Card");return a(),y(r,{class:"dark:bg-primary-low dark:text-gray-300 hover:border-primary-low hover:border hover:shadow-slate-500 hover:shadow-xl dark:hover:text-slate-200 dark:hover:shadow-sm text-center cursor-pointer"},{default:L(()=>[o("img",{src:n.method.image,alt:`${n.method.name}-${n.method.type}-logo`},null,8,Y),n.label?(a(),u("span",j,M(n.label),1)):(a(),u("span",H,M(n.method.name),1))]),_:1})}}}),Q=o("div",{class:"text-2xl text-center"},"Favoritos",-1),X=o("div",{class:"text-2xl text-center"},"E-WALLETS",-1),J=o("div",{class:"text-2xl text-center"},"BANCOS",-1),Z=o("div",{class:"text-2xl text-center"},"CRYPTO",-1),ee=P({__name:"PaymentTypeSelector",emits:["select"],setup(n,{emit:m}){const l="grid grid-cols-4 sm:grid-cols-6 md:grid-cols-6 lg:grid-cols-12 gap-2",r=I(),_=f(()=>r.cardMethods),d=f(()=>r.cryptoMethods),c=f(()=>r.favMethods),s=f(()=>r.walletMethods);return U(async()=>{await r.list()}),(k,p)=>{const i=S("Card");return a(),y(i,{class:"p-2 space-y-2"},{default:L(()=>[Q,o("div",{class:B(l)},[(a(!0),u($,null,b(h(c),(e,t)=>(a(),y(g,{onClick:v=>m("select",e),key:`fav-${e.id}-${t}`,method:e},null,8,["onClick","method"]))),128))]),X,o("div",{class:B(l)},[(a(!0),u($,null,b(h(s),(e,t)=>(a(),y(g,{onClick:v=>m("select",e),key:`wallet-${e.id}-${t}`,method:e},null,8,["onClick","method"]))),128))]),J,o("div",{class:B(l)},[(a(!0),u($,null,b(h(_),(e,t)=>(a(),y(g,{onClick:v=>m("select",e),key:`cards-${e.id}-${t}`,method:e},null,8,["onClick","method"]))),128))]),Z,o("div",{class:B(l)},[(a(!0),u($,null,b(h(d),(e,t)=>(a(),y(g,{onClick:v=>m("select",e),key:`crypto-${e.id}-${t}`,method:e},null,8,["onClick","method"]))),128))])]),_:1})}}}),te=n=>(F("data-v-a1084e4a"),n=n(),O(),n),ae=te(()=>o("button",{class:"btn-primary dark:btn-primary-low dark:border-slate-200 mt-2"},"Guardar",-1)),se=P({__name:"UserPaymentForm",props:{update:null},emits:["completed"],setup(n,{emit:m}){const l=n,r=I(),{axiosError:_}=V(),d=w(!0),c=w(),s=w({data:"",name:"",payment_id:0}),k=f(()=>{var e;switch((e=c.value)==null?void 0:e.type){case"BANK":return"BANCO";case"CRYPTO":return`WALLET ${c.value.name}`;case"WALLET":return`E-WALLET ${c.value.name}`;default:return""}});function p(e){setTimeout(()=>{c.value=e,s.value.payment_id=e.id,d.value=!1},500)}async function i(e=!1){if(c.value)try{l.update?e?await r.remove(s.value):await r.update(s.value):e||await r.store(s.value),m("completed",s.value)}catch(t){_(t)}}return l.update&&(s.value=l.update,d.value=!1,c.value=r.getById(s.value.payment_id)),(e,t)=>{const v=S("InputText"),N=S("Card");return a(),u("form",{onSubmit:t[4]||(t[4]=E(x=>i(!1),["prevent"]))},[C(N,null,{default:L(()=>[c.value?(a(),y(g,{key:0,method:c.value,class:"w-16",onClick:t[0]||(t[0]=x=>d.value=!0)},null,8,["method"])):T("",!0),d.value?(a(),y(ee,{key:1,onSelect:p})):T("",!0),C(v,{"id-key":"input-wallet-name",label:"Nombre",modelValue:s.value.name,"onUpdate:modelValue":t[1]||(t[1]=x=>s.value.name=x),type:"text",placeholder:"Nombre",required:""},null,8,["modelValue"]),C(v,{"id-key":"input-wallet-data",label:h(k),modelValue:s.value.data,"onUpdate:modelValue":t[2]||(t[2]=x=>s.value.data=x),type:"text",required:""},null,8,["label","modelValue"]),ae,o("button",{class:"btn bg-error text-white mt-2",onClick:t[3]||(t[3]=E(x=>i(!0),["prevent"]))},M(n.update?"Eliminar":"Cancelar"),1)]),_:1})],32)}}});const oe=A(se,[["__scopeId","data-v-a1084e4a"]]),le={class:"p-4 text-primary bg-yellow-300"},ne={class:"float-right ml-2"},re=P({__name:"MyPaymentLink",setup(n){const{copy:m,copied:l,isSupported:r}=W(),{error:_,success:d}=V(),c=z(),s=f(()=>{var i;return`${G}/payme/${(i=c.profile)==null?void 0:i.nick}`});async function k(){r.value?(await m(s.value),l.value&&d("Enlace copiado")):_("Su dispositivo no soporta la funci\xF3n")}function p(){var i;K(`Metodos de Pago de ${(i=c.profile)==null?void 0:i.name}`,s.value)}return(i,e)=>{const t=S("BaseIcon");return a(),u("div",le,[o("span",ne,[o("div",{class:"cursor-pointer",onClick:k},[C(t,{path:h(R),size:"16",class:"fill-primary"},null,8,["path"])]),o("div",{class:"cursor-pointer",onClick:p},[C(t,{path:h(q),size:"16",class:"fill-primary"},null,8,["path"])])]),o("span",null,[D(" Su Enlace: "),o("b",null,M(h(s)),1)])])}}}),ce={class:"p-2"},de={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2"},ie=["onClick"],ue={class:"w-8"},me=["src"],pe={class:"pl-4"},_e=P({__name:"PaymentMethods",setup(n){const{axiosError:m}=V(),l=I(),r=f(()=>l.myMethods),_=w(),d=w(!1);function c(p){return l.getById(p)}function s(p){_.value=p,d.value=!0}async function k(){d.value=!1,_.value=void 0,await l.listMine()}return U(async()=>{try{await l.list(),await l.listMine()}catch(p){m(p)}}),(p,i)=>(a(),u("div",ce,[C(re,{class:"mb-2"}),d.value?T("",!0):(a(),u("button",{key:0,class:"btn-primary-low dark:bg-primary dark:text-slate-100 dark:border-primary-low",onClick:i[0]||(i[0]=E(()=>{_.value=void 0,d.value=!0},["prevent"]))},"A\xF1adir")),d.value?(a(),y(oe,{key:1,update:_.value,onCompleted:k},null,8,["update"])):(a(),u("ul",de,[(a(!0),u($,null,b(h(r).methods,(e,t)=>{var v;return a(),u("li",{key:`${e.payment_id}-${t}`,class:"flex items-center border shadow-lg p-2 bg-white rounded-md cursor-pointer dark:bg-primary-low dark:border-slate-300 dark:text-slate-200",onClick:N=>s(e)},[o("div",ue,[o("img",{src:(v=c(e.payment_id))==null?void 0:v.image},null,8,me)]),o("div",pe,M(e.name),1)],8,ie)}),128))]))]))}});const ye=A(_e,[["__scopeId","data-v-a050e8ce"]]);export{ye as default};
