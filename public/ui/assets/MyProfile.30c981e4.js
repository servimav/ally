import{h as m,u as w,E as y,B as V,J as b,G as x,o as p,l as c,k as u,j as l,D as C,r as f,w as U}from"./index.21a815f3.js";const B={class:"space-y-2"},N={class:"my-10"},E=["onClick"],P=m({__name:"ProfileForm",emits:["complete"],setup(_,{emit:d}){const t=w(),{axiosError:i,success:v}=y(),e=V({email:"",password:"",name:"",nick:"",password_confirmation:""}),n=b(()=>t.profile);async function k(){try{const r=await t.update(e.value);v("Perfil actualizado"),d("complete",r)}catch(r){i(r)}}return x(async()=>{await t.getProfile(),n.value&&(e.value={email:n.value.email,name:n.value.name,nick:n.value.nick,password:"",password_confirmation:""})}),(r,a)=>{const s=f("InputText");return p(),c("form",null,[u("div",B,[l(s,{"id-key":"profile-name",modelValue:e.value.name,"onUpdate:modelValue":a[0]||(a[0]=o=>e.value.name=o),label:"Nombre",required:""},null,8,["modelValue"]),l(s,{"id-key":"profile-nick",modelValue:e.value.nick,"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.nick=o),label:"Nick",required:""},null,8,["modelValue"]),l(s,{"id-key":"profile-email",modelValue:e.value.email,"onUpdate:modelValue":a[2]||(a[2]=o=>e.value.email=o),label:"Email",type:"email",required:""},null,8,["modelValue"]),l(s,{"id-key":"profile-password",modelValue:e.value.password,"onUpdate:modelValue":a[3]||(a[3]=o=>e.value.password=o),label:"Contrase\xF1a",type:"password"},null,8,["modelValue"]),l(s,{"id-key":"profile-password-confirmation",modelValue:e.value.password_confirmation,"onUpdate:modelValue":a[4]||(a[4]=o=>e.value.password_confirmation=o),label:"Repita Contrase\xF1a",type:"password"},null,8,["modelValue"])]),u("div",N,[u("button",{type:"submit",onClick:C(k,["prevent"]),class:"btn-primary"}," Guardar",8,E)])])}}}),q={class:"p-2"},M=m({__name:"MyProfile",setup(_){return(d,t)=>{const i=f("Card");return p(),c("div",q,[l(i,{class:"p-4"},{default:U(()=>[l(P)]),_:1})])}}});export{M as default};
